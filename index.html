<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fenomenal ¬∑ Palworld Server</title>
  <meta name="description" content="Fenomenal ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π Palworld‚Äë—Å–µ—Ä–≤–µ—Ä –¥–æ 32 –∏–≥—Ä–æ–∫–æ–≤, —á–µ—Å—Ç–Ω—ã–π PvE –∏ –Ω–∏–∑–∫–∏–π –ø–∏–Ω–≥.">
  <meta property="og:title" content="Fenomenal ¬∑ Palworld Server">
  <meta property="og:description" content="–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ Palworld‚Äë—Å–µ—Ä–≤–µ—Ä—É Fenomenal: –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è –∑–¥–µ—Å—å!">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://palworld.mrjin.pro">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" crossorigin="anonymous">
  <style>
    :root {
      --accent: #00ffa3;
      --accent-dark: #00cc84;
      --bg: #1c1c1c;
      --bg2: #2f2f2f;
      --text: #fff;
      --text-muted: #a5a5a5;
    }
    @media(prefers-color-scheme: light) {
      :root {
        --bg: #fafafa;
        --bg2: #eaeaea;
        --text: #121212;
        --text-muted: #555;
      }
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family: Inter, sans-serif; background: linear-gradient(135deg,var(--bg),var(--bg2)); color: var(--text); min-height:100vh; display:flex; flex-direction:column; }
    header {
      position:sticky; top:0; z-index:10;
      backdrop-filter:blur(10px); background:rgba(0,0,0,0.45);
      padding:.6rem 1rem; display:flex; align-items:center; gap:.6rem;
    }
    .logo { display:flex; align-items:center; gap:.5rem; text-decoration:none; }
    .logo img { width:36px; height:36px; }
    .logo span {
      font:600 1.3rem 'Orbitron'; background:linear-gradient(90deg,var(--accent),#4dffe0 60%);
      -webkit-background-clip:text; color:transparent;
    }
    .primary-btn {
      margin-left:auto; background:var(--accent); color:#000;
      padding:.5rem 1.2rem; border-radius:.5rem; font-weight:600;
      text-decoration:none; display:inline-flex; align-items:center; gap:.4rem;
      transition:background .2s;
    }
    .primary-btn:hover { background:var(--accent-dark); }

    main { flex:1; }
    .hero {
      position:relative; height:60vh; min-height:320px;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      text-align:center; overflow:hidden;
    }
    #palCanvas {
      position:absolute; width:300px; height:300px;
      top:50%; left:50%; transform:translate(-50%,-50%);
      z-index:1; pointer-events:none;
    }
    .hero .title {
      position:relative; z-index:2;
      font-family:'Orbitron'; font-size:3rem; line-height:1;
      background:linear-gradient(90deg,var(--accent),#4dffe0 60%);
      background-clip:text; -webkit-background-clip:text; color:transparent;
      margin-bottom:.5rem;
    }
    .hero .subtitle {
      position:relative; z-index:2;
      font-size:1.1rem; color:var(--text-muted);
    }

    section { max-width:840px; margin:2rem auto; padding:0 1rem; }
    section h2 { font-size:1.5rem; color:var(--accent); margin-bottom:.6rem; }
    section ul { list-style:disc; padding-left:1.5rem; line-height:1.7; color:var(--text); }
    kbd { background:rgba(255,255,255,.1); padding:.2rem .4rem; border-radius:.25rem; }

    #statusSec { display:none; }
    .status-box {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
      gap:1rem; background:rgba(0,0,0,.55); border:1px solid var(--accent-dark);
      border-radius:.75rem; padding:1rem; margin-top:1rem; text-align:center;
    }
    .status-box div strong { display:block; font-size:1.3rem; }

    #toast {
      position:fixed; bottom:1.2rem; left:50%; transform:translateX(-50%);
      background:var(--accent); color:#000; padding:.7rem 1.2rem; border-radius:.5rem;
      opacity:0; pointer-events:none; transition:opacity .3s; font-weight:500;
    }
    #toast.show { opacity:1; }

    footer { text-align:center; padding:1.5rem 1rem; font-size:.85rem; color:var(--text-muted); }
  </style>
</head>
<body>

  <header>
    <a href="#" class="logo">
      <img src="favicon.svg" alt="Fenomenal">
      <span>Fenomenal</span>
    </a>
    <a class="primary-btn" href="steam://connect/fenomenal.mrjin.pro:8211">
      <i class="fa-brands fa-steam"></i> –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
    </a>
  </header>

  <main>
    <div class="hero">
      <canvas id="palCanvas"></canvas>
      <div class="title">Palworld Server</div>
      <div class="subtitle">–°—Ç–∞–±–∏–ª—å–Ω—ã–π PvE‚Äë–º–∏—Ä –¥–æ¬†32¬†–∏–≥—Ä–æ–∫–æ–≤. –ó–∞–±–∏—Ä–∞–π –¥—Ä—É–∑–µ–π¬†‚Äî –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –∂–¥—É—Ç!</div>
    </div>

    <section>
      <h2>–û —Å–µ—Ä–≤–µ—Ä–µ</h2>
      <ul>
        <li>32¬†–∏–≥—Ä–æ–∫–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</li>
        <li>–ß–∏—Å—Ç—ã–π PvE, –∑–∞—â–∏—Ç–∞ –æ—Ç¬†–≥—Ä–∏—Ñ–∞</li>
        <li>–¢–µ–ª–µ–ø–æ—Ä—Ç—ã –∫¬†–∫–ª—é—á–µ–≤—ã–º —Ç–æ—á–∫–∞–º</li>
        <li>–ë–∞–ª–∞–Ω—Å –∫—Ä–∞—Ñ—Ç–∞, —É—Å–∫–æ—Ä–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç</li>
        <li>SSD‚Äë—Ö–æ—Å—Ç–∏–Ω–≥ ‚Üí 99.9% –∞–ø—Ç–∞–π–º</li>
      </ul>
    </section>

    <section>
      <h2>–ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</h2>
      <ul>
        <li>–ó–∞–ø—É—Å—Ç–∏ <strong>Palworld</strong></li>
        <li>–í¬†–º–µ–Ω—é ¬´Direct Connect¬ª</li>
        <li>–í–≤–µ–¥–∏ <kbd>fenomenal.mrjin.pro:8211</kbd> –∏–ª–∏ –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É —Å–≤–µ—Ä—Ö—É</li>
      </ul>
      <button class="primary-btn" id="copyBtn">
        <i class="fa-regular fa-copy"></i> –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å IP
      </button>
    </section>

    <section id="statusSec">
      <h2>–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ <span id="dot">‚è≥</span></h2>
      <div class="status-box" id="statusBox"></div>
    </section>

    <section>
      <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
      <ul>
        <li>Discord: <a href="https://discord.gg/6rJS8wHh" target="_blank">Fenomenal</a></li>
        <li>Telegram: <a href="https://t.me/MrJin_pro" target="_blank">@MrJin_pro</a></li>
      </ul>
    </section>
  </main>

  <footer>¬©¬†2025¬†Fenomenal¬†Server¬†by¬†MrJin. –í—Å–µ¬†–ø—Ä–∞–≤–∞¬†–∑–∞—â–∏—â–µ–Ω—ã.</footer>
  <div id="toast">IP —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤¬†–±—É—Ñ–µ—Ä!</div>

  <script type="module">
    import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js';
    import { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/GLTFLoader.js';

    // Renderer & canvas
    const canvas   = document.getElementById('palCanvas');
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setPixelRatio(window.devicePixelRatio);

    // Scene & camera
    const scene  = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(35, 1, 0.1, 10);
    camera.position.set(0, 0, 4);
    scene.add(camera);

    // Lights
    scene.add(new THREE.DirectionalLight(0xffffff, 1.2).position.set(2,3,4));
    scene.add(new THREE.AmbientLight(0x404040, 0.5));

    // Resize handler
    function resize() {
      const w = canvas.clientWidth, h = canvas.clientHeight;
      renderer.setSize(w, h);
      camera.aspect = w / h;
      camera.updateProjectionMatrix();
    }
    window.addEventListener('resize', resize);
    resize();

    // Load model
    new GLTFLoader().load(
      'palball.glb',
      ({ scene: model }) => {
        model.rotation.x = -0.3;
        scene.add(model);
        renderer.setAnimationLoop(() => {
          model.rotation.y += 0.005;
          renderer.render(scene, camera);
        });
      },
      undefined,
      err => console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏:', err)
    );

    // Copy IP + toast
    const toast = document.getElementById('toast');
    document.getElementById('copyBtn').onclick = () => {
      navigator.clipboard.writeText('fenomenal.mrjin.pro:8211').then(() => {
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 2500);
      });
    };

    // Live status
    const statusSec = document.getElementById('statusSec');
    const statusBox = document.getElementById('statusBox');
    const dot       = document.getElementById('dot');

    async function loadStatus() {
      try {
        const res = await fetch('/api/server/status', { cache: 'no-store' });
        if (!res.ok) throw 0;
        const { status, uptime, memory, cpu, playerCount } = await res.json();
        statusBox.innerHTML = `
          <div><strong>${status      ?? '‚Äî'}</strong>–°—Ç–∞—Ç—É—Å</div>
          <div><strong>${playerCount ?? '‚Äî'}</strong>–ò–≥—Ä–æ–∫–æ–≤</div>
          <div><strong>${uptime      ?? '‚Äî'}</strong>–ê–ø—Ç–∞–π–º</div>
          <div><strong>${cpu         ?? '‚Äî'}</strong>CPU</div>
          <div><strong>${memory      ?? '‚Äî'}</strong>RAM</div>`;
        statusSec.style.display = '';
        dot.textContent = 'üü¢';
      } catch {
        dot.textContent = 'üî¥';
      }
    }
    loadStatus();
    setInterval(loadStatus, 30000);
  </script>
</body>
</html>
